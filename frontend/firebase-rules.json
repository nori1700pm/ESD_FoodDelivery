{
  "firestore": {
    "rules": "rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow anyone to read restaurants and menu items\n    match /restaurants/{document=**} {\n      allow read: if true;\n      allow write: if false;\n    }\n    \n    match /menu_items/{document=**} {\n      allow read: if true;\n      allow write: if false;\n    }\n    \n    // User authentication rules\n    match /users/{userId} {\n      allow read, write: if request.auth != null && request.auth.uid == userId;\n    }\n    \n    // Wallet rules - only allow the owner to read/write\n    match /wallets/{userId} {\n      allow read, write: if request.auth != null && request.auth.uid == userId;\n    }\n    \n    // Cart rules - only allow the owner to read/write\n    match /carts/{userId} {\n      allow read, write: if request.auth != null && request.auth.uid == userId;\n    }\n    \n    // Orders rules\n    match /orders/{orderId} {\n      allow read: if request.auth != null && (\n        resource.data.customerId == request.auth.uid ||\n        request.auth.token.admin == true\n      );\n      allow create: if request.auth != null;\n      allow update, delete: if request.auth != null && (\n        resource.data.customerId == request.auth.uid ||\n        request.auth.token.admin == true\n      );\n    }\n  }\n}"
  }
}
